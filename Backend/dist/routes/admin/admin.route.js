"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const error_handler_1 = require("../../helpers/ERRORS/error-handler");
const product_controller_1 = require("../../controllers/admin/products/product.controller");
const auth_middleware_1 = require("../../middlewares/only-admin/auth.middleware");
const multer_middlware_1 = require("../../middlewares/multer/multer.middlware");
const order_controller_1 = require("../../controllers/admin/orders/order.controller");
const dashboard_controller_1 = require("../../controllers/admin/dashboard/dashboard.controller");
const adminRoutes = (0, express_1.Router)();
adminRoutes.use(auth_middleware_1.protectRoute, auth_middleware_1.onlyAdmin);
adminRoutes.post("/products", multer_middlware_1.upload.array("images", 3), (0, error_handler_1.errorHandler)(product_controller_1.createProduct));
adminRoutes.get("/products", (0, error_handler_1.errorHandler)(product_controller_1.getAllProducts));
adminRoutes.put("/products/:id", multer_middlware_1.upload.array("images", 3), (0, error_handler_1.errorHandler)(product_controller_1.updateProduct));
adminRoutes.delete("/products/:id", (0, error_handler_1.errorHandler)(product_controller_1.deleteProduct));
adminRoutes.get("/orders", order_controller_1.getAllOrders);
adminRoutes.patch("/orders/:orderId/status", order_controller_1.updateOrderStatus);
adminRoutes.get("/customers", dashboard_controller_1.getAllCustomers);
adminRoutes.get("/stats", dashboard_controller_1.getDashboardStats);
exports.default = adminRoutes;
